# GTM-Server-Side-Variable-Templates_ecommerce-array-generator
A simple server-side GTM variable custom template that unpacks the GA4 ecommerce items array from the event data object and return a single item properties array.

# Purpose of this server-side Google Tag Manager variable custom template
The purpose of this variable is to unpack the items array of the event data object generated by the server-side GTM container in order to generate a single array containing the value of a given property for any available items in this items array. This way it is easier to map these values to vendors that require this format. 

For instance, this variable would be able to flatten the product_id property of all the available items in the following items array...

```
items: [
     {
       product_name: "Product 1",
       product_id: "0001",
       product_price: 15.25,
       list_name: "Results list",
       index: 1
     },
     {
       product_name: "Product 2",
       product_id: "0002",
       product_price: 33.75,
       list_name: "Results list",
       index: 2
     },
     {
       product_name: "Product 3",
       product_id: "0003",
       product_price: 21.20,
       list_name: "Results list",
       index: 3
      },
     {
       product_name: "Product 4",
       product_id: "0004",
       product_price: 89.95,
       list_name: "Results list",
       index: 3
      },    ]
```
and generate an array like the following one: 
```
new_product_id_array = ["0001","0002","0003","0004"]
```
